.proposal-layout {
  max-width: 840px !important;
}

.breadcrumb {
  color: var(--interactive-primary-hover);

  a {
    color: inherit;
    text-decoration: none;
  }
}

.flag-wrapper {
  .flag a {
    color: inherit;
    text-decoration: none;
  }

  .ajax-progress-throbber {
    display: none;
  }
}

.proposal-form-wrapper {
  padding-top: 3rem;
}

.node-dialogue-proposal-form,
.node-dialogue-proposal-edit-form {
  .fieldset-legend {
    font-size: 1rem;
    font-weight: bold;
  }

  label,
  legend {
    font-weight: 700;
    margin-bottom: 0.5rem;

    span.optional {
      margin-left: 0.5rem;
      font-weight: normal;
    }
  }

  .form-required:after {
    content: "";
    margin-bottom: 0.5rem;
  }

  .image-widget {
    @extend .d-flex;
    @extend .flex-wrap;

    img {
      margin-right: 4rem;
    }

    .form-item {
      @extend .flex-grow-1;
      flex-basis: 50%;
    }

    .file--image {
      display: none;
    }

    .js-form-submit {
      flex-basis: 100%;
    }

    .drop-message {
      padding: 1rem;
    }

    .button {
      @extend .btn;
      @extend .btn-primary;

      padding: 0.25rem 0.5rem;
      font-size: 0.875rem;
      border-radius: 0.2rem;
      position: inherit;

      &:after {
        display: none;
      }
    }
  }

  .field--name-field-dialogue-proposal-category .fieldset-wrapper {
    display: flex;
    flex-direction: column;
    gap: $spacer;

    .form-checkboxes {
      display: flex;
      flex-wrap: wrap;
      gap: $spacer;
      order: 2;
    }
    .description {
      order: 1;
    }
  }
}

.dialogue-proposals {
  font-size: $font-size-small;

  .card-text {
    line-clamp: 3;
    text-overflow: ellipsis;
    -webkit-line-clamp: 3;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    height: 65px;
    overflow: hidden;
  }

  a {
    color: inherit;
    text-decoration: none;
  }
}

.proposal-category-items {
  .badge {
    border: 1px solid var(--interactive-primary-hover);
    color: var(--interactive-primary-hover);
  }
}

.dialogue-proposal {
  img {
    height: auto;
    width: 100%;
  }

  #map {
    height: 300px !important;
  }

  .comments .indented {
    border-left: 2px dashed var(--primitive-gray-600);
    padding-left: 2em;
  }
}

/* Target the full page (the body element) rather than `.dialogue-proposal` to also affect elements in modals. */
.page--dialogue_proposal {
  .comment-header,
  .node-metadata {
    display: flex;
    gap: 1em;

    a {
      text-decoration: none;
    }
  }

  .comment-time {
    color: var(--text-muted);
  }
}

// Hearing tickets (card grid layout matching dialogue proposals)
.hearing-ticket-link {
  display: block;
  color: inherit;
  text-decoration: none;
  height: 100%;

  &:hover {
    text-decoration: none;
    color: inherit;

    .card {
      box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.1);
    }
  }

  .card {
    transition: box-shadow 200ms ease-out;
    height: 100%;
  }

  .card-body {
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  .card-title {
    font-size: clamp(1.1rem, 1vw + 0.9rem, 1.3rem);
    line-height: 1.3;
    margin-bottom: $spacer * 0.75;
  }

  .card-text {
    line-clamp: 3;
    text-overflow: ellipsis;
    -webkit-line-clamp: 3;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    overflow: hidden;
    color: var(--text-secondary);
    line-height: 1.5;
    flex-grow: 1;
  }

  .ticket-meta {
    color: var(--primitive-petroleum-800);
    margin-top: auto;
  }

  .ticket-author {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .ticket-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-top: $spacer * 0.75;

    .badge {
      font-weight: normal;
      font-size: 0.75rem;
      border: 1px solid var(--primitive-petroleum-500);
      color: var(--primitive-petroleum-800);
      background: transparent;
    }
  }
}
